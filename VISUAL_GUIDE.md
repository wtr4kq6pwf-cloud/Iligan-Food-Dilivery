# ğŸ“± Visual Guide - Offline Features

## Landing Page - Online Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… Online                          â”‚  â† Status Badge
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚          ğŸšš                         â”‚
â”‚       (Moving animation)            â”‚
â”‚                                     â”‚
â”‚     Your Food, Fast!                â”‚
â”‚  The fastest way to get food...     â”‚
â”‚                                     â”‚
â”‚   [Get Started Now!]                â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Landing Page - Offline Mode

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ Offline                         â”‚  â† Status Badge (Red)
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚          ğŸšš                         â”‚
â”‚       (Moving animation)            â”‚
â”‚                                     â”‚
â”‚     Your Food, Fast!                â”‚
â”‚  The fastest way to get food...     â”‚
â”‚                                     â”‚
â”‚  âš ï¸ You're offline -               â”‚  â† Warning Banner
â”‚     Content may be limited          â”‚
â”‚                                     â”‚
â”‚   [Browse Offline]                  â”‚  â† Changed button text
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Offline Page (When navigation fails offline)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚        Iligan Food Hub              â”‚
â”‚          Logo Image                 â”‚
â”‚                                     â”‚
â”‚             ğŸ“¶                      â”‚  â† Disconnected symbol
â”‚                                     â”‚
â”‚      You're Offline                 â”‚
â”‚      Connection Lost                â”‚
â”‚                                     â”‚
â”‚  The app is temporarily unavailable â”‚
â”‚  while you're offline.              â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ What you can do:            â”‚   â”‚
â”‚  â”‚ âœ“ Check your connection     â”‚   â”‚
â”‚  â”‚ âœ“ Try turning Wi-Fi on/off  â”‚   â”‚
â”‚  â”‚ âœ“ Move closer to router     â”‚   â”‚
â”‚  â”‚ âœ“ Check mobile data         â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚        [Try Again]                  â”‚  â† Reload button
â”‚                                     â”‚
â”‚    ğŸ”´ Offline Mode                  â”‚
â”‚                                     â”‚
â”‚   Once you're back online,          â”‚
â”‚   reload the page to continue.      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Status Indicator States

### Online
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ Online         â”‚  â† Green dot
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Offline
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ”´ Offline        â”‚  â† Red dot (pulsing)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow

### Online Mode
```
User Opens App
    â†“
Service Worker detects online
    â†“
Fetch fresh data from Supabase
    â†“
Cache assets in background
    â†“
Display app with status: âœ… Online
```

### Offline Mode
```
User Opens App (No Internet)
    â†“
Service Worker detects offline
    â†“
Serve cached assets
    â†“
Show offline.html for new routes
    â†“
Display app with status: ğŸ”´ Offline
    â†“
Warn user about limited features
```

### Reconnection Flow
```
User Reconnects to Internet
    â†“
Service Worker detects online event
    â†“
offline.html auto-reloads
    â†“
App loads with fresh data
    â†“
Status changes to âœ… Online
    â†“
User can now order normally
```

## Component Hierarchy

```
App.jsx
â”œâ”€â”€ OfflineIndicator
â”‚   â””â”€â”€ Shows only when offline
â”œâ”€â”€ Header (hidden on landing)
â”‚   â””â”€â”€ Logo + Auth buttons
â”œâ”€â”€ Main Content
â”‚   â”œâ”€â”€ LandingPage (when not logged in)
â”‚   â”‚   â””â”€â”€ Shows Online/Offline status
â”‚   â”œâ”€â”€ RestaurantListing (when logged in)
â”‚   â”œâ”€â”€ Cart
â”‚   â”œâ”€â”€ Checkout
â”‚   â”œâ”€â”€ OrderHistory
â”‚   â””â”€â”€ OrderTracking
â””â”€â”€ Navigation Bar (hidden on landing)
    â””â”€â”€ Shop | Basket | Orders
```

## Offline Detection Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useOfflineDetection â”‚
â”‚      (Hook)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚
    â†“             â†“
Online Event   Offline Event
    â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚
      Update State
           â”‚
      Trigger Re-render
           â”‚
    Update UI (badge, warnings)
```

## Caching Strategy

```
Request from Browser
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Is it online?     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
    Yes â”‚   No
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â†“                â†“
NetworkFirst      Cache
Strategy          Strategy
(API, JSON)       (Images,
    â”‚             Static)
    â”‚                â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚        â”‚
Try network  Serve from
    â”‚        cache
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚         â”‚
Online?   No connection?
    â”‚         â”‚
   Yes       Yes
    â”‚         â”‚
Cache it   Fail gracefully
    â”‚         â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚
    Return data
```

## Features at a Glance

| Feature | Online | Offline |
|---------|--------|---------|
| View Landing Page | âœ… | âœ… |
| Browse (Cached) Restaurants | âœ… | âš ï¸ (cached) |
| See Online Status | âœ… | âœ… |
| Create Account | âœ… | âŒ |
| Browse Menus | âœ… | âš ï¸ (cached) |
| Place Orders | âœ… | âŒ |
| View Order History | âœ… | âš ï¸ (cached) |
| Track Order | âœ… | âŒ |

Legend: âœ… = Full support | âš ï¸ = Limited/Cached | âŒ = Requires online

---

## Example Code Usage

### Check if Online
```jsx
const { isOnline } = useOfflineDetection();

if (!isOnline) {
  // Show limited features message
  return <OfflineWarning />;
}
```

### Show Offline Banner
```jsx
<OfflineIndicator />  // Only renders when offline
```

### Store Offline Data
```jsx
await storeDataLocally('cache', 'restaurants', data);
const cached = await getDataLocally('cache', 'restaurants');
```

---

This visual guide helps understand how your offline system works! ğŸ‰
